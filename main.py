#!/usr/bin/env python3
import sys
import questionary
from audio_transcriber import run_transcription_menu, run_converter_json
from vtt_transcript_cleaner import run_cleaner
from ui_style import custom_style

def display_welcome():
    banner = r"""                   
                    โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ                    
                   โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ                   
                  โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ                  
               โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ               
             โ๏ธโ๏ธโ๏ธโ๏ธ     โ๏ธโ๏ธ      โ๏ธโ๏ธโ๏ธ             
          โ๏ธโ๏ธโ๏ธโ๏ธ        โ๏ธโ๏ธ        โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ         
     โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ           โ๏ธโ๏ธ           โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ     
   โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ           โ๏ธโ๏ธ          โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ   
  โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ       โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ       โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ   
   โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ   
     โ๏ธโ๏ธโ๏ธโ๏ธ      โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ      โ๏ธโ๏ธโ๏ธโ๏ธ     
      โ๏ธโ๏ธโ๏ธ        โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ        โ๏ธโ๏ธ       
       โ๏ธโ๏ธโ๏ธ        โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ        โ๏ธโ๏ธโ๏ธ       
        โ๏ธโ๏ธโ๏ธ       โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ       โ๏ธโ๏ธ         
         โ๏ธโ๏ธโ๏ธ     โ๏ธโ๏ธโ๏ธ      โ๏ธโ๏ธโ๏ธ     โ๏ธโ๏ธโ๏ธ         
          โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ          โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ          
          โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ           โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ          
         โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ          โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ         
          โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ          
           โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ              โ๏ธโ๏ธโ๏ธโ๏ธโ๏ธ                    
                                              
โโ ๐ต โโโ ๐ง โโโ ๐๏ธ โโโ ๐๏ธ โโโ ๐๏ธ โโโ ๐ต โโโ ๐ง โโโ ๐๏ธ โโโ ๐๏ธ โโ
โ          Welcome to the AthletiFi Transcript Toolkit!          โ
โโ ๐ต โโโ ๐ง โโโ ๐๏ธ โโโ ๐๏ธ โโโ ๐๏ธ โโโ ๐ต โโโ ๐ง โโโ ๐๏ธ โโโ ๐๏ธ โโ
    """
    print(banner)
    print("Use these tools to clean up transcripts, start new transcription jobs,")
    print("and convert AWS transcripts into clean text.\n")
    print("Perfect for turning meeting recordings and interviews into text")
    print("that works well with AI tools and documentation.\n")

def main_menu():
    return questionary.select(
        "๐ Please choose an option:",
        choices=[
            "๐งน Clean a VTT Transcript",
            "โ๏ธ Transcribe Audio (with AWS Transcribe)",
            "๐ Convert an AWS Transcribe JSON Transcript",
            "๐ช Exit"
        ],
        style=custom_style,
        pointer="๐ "
    ).ask()

def main():
    display_welcome()
    while True:
        choice = main_menu()
        if choice == "๐งน Clean a VTT Transcript":
            run_cleaner()
        elif choice == "โ๏ธ Transcribe Audio (with AWS Transcribe)":
            run_transcription_menu()
        elif choice == "๐ Convert an AWS Transcribe JSON Transcript":
            run_converter_json()
        elif choice == "๐ช Exit":
            print("๐ Goodbye! See you next time!")
            sys.exit(0)
        else:
            print("โ Invalid choice. Please select a valid option.\n")

if __name__ == '__main__':
    main()